<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checkout do carrinho</title>
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/checkout.css">
    <link rel="stylesheet" href="./css/carrinho.css">
</head>
<body>
    <div class="container">
        <header>
            <img class="imgHeader" src="./logo/Captura_de_tela_2024-04-30_155912-removebg-preview.png" alt="imagem da logo">
        </header>

        <ul class="nav">
            <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="./home.html">HOME</a>
            </li>
            <li class="nav-item">
                <a class="nav-link"  href="sobre.html">SOBRE</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="produtos.html">PRODUTOS</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="carrinho.html">CARRINHO</a>
            </li>
            </ul>

        
        
            <div id="mensagem">
                <button>
                    <a href="carrinho.html">voltar para a home</a>
                </button>
                <h1>bem vindo ao seu Carrinho</h1>
            </div>
        
            <div id="carrinho"></div>
            <button id="finalizar">Finalizar Compra</button>
        
            <script src="carrinho.js"></script>
            <script>
                // Recupera os dados do carrinho do localStorage
                var carrinho = JSON.parse(localStorage.getItem('carrinho')) || {};
        
                // Exibe os produtos adicionados ao carrinho
                  var divCarrinho = document.getElementById('carrinho');
                for (var id in carrinho) {
                    var produto = document.createElement('div');
                    produto.innerHTML = `
                        <div class="produto" data-id="${id}" data-preco="${carrinho[id].preco}">
                            <img src="./img/Captura de tela 2024-04-30 202513.png" alt="Imagem do Produto" width="200">
                            <h2>Nome do Produto</h2>
                            <p>Descri√ß√£o do produto.</p>
                            <p>Pre√ßo: R$<span class="preco">${carrinho[id].preco}</span></p>
                            <p>Quantidade: <span class="quantidade">${carrinho[id].quantidade}</span></p>
                            <button class="aumentar">+</button>
                            <button class="diminuir">-</button>
                            <div class="icones">
                                <button class="like">‚ù§Ô∏è Curtir</button>
                                <button class="remover">üõí Remover do Carrinho</button>
                            </div>
                        </div>
                    `;
                    divCarrinho.appendChild(produto);
                }
        
        
                // Calcula o total da compra quando o bot√£o "Finalizar Compra" √© clicado
                document.getElementById('finalizar').addEventListener('click', function() {
                    alert('Total da compra: R$' + calcularTotal().toFixed(2));
                });
        
                // Adiciona um evento de clique a cada bot√£o "Aumentar"
                document.querySelectorAll('.aumentar').forEach(function(botao) {
                    botao.addEventListener('click', function() {
                        var id = this.parentElement.dataset.id;
                        carrinho[id].quantidade += 1;
                        localStorage.setItem('carrinho', JSON.stringify(carrinho)); // Atualiza o carrinho no localStorage
                        this.previousElementSibling.textContent = carrinho[id].quantidade; // Atualiza a quantidade exibida
                    });
                });
        
                // Adiciona um evento de clique a cada bot√£o "Diminuir"
                document.querySelectorAll('.diminuir').forEach(function(botao) {
                    botao.addEventListener('click', function() {
                        var id = this.parentElement.dataset.id;
                        if (carrinho[id].quantidade > 1) {
                            carrinho[id].quantidade -= 1;
                            localStorage.setItem('carrinho', JSON.stringify(carrinho)); // Atualiza o carrinho no localStorage
                            this.nextElementSibling.textContent = carrinho[id].quantidade; // Atualiza a quantidade exibida
                        }
                    });
                });
            </script>
        
         </div>

         <div ontouchstart="">
            <div class="button" id="carrinho">
                <a id="finalizar" href="checkout2.html">Checkout</a>
            </div>
        </div>
        <footer>   
            <div class ="pagamento" >Formas de pagamento  
                <div class="IMGS">
        
                    <img src="./Img.footer/Captura de tela 2024-05-01 143400 1.png"  width="70px" height="50px" >
                    <img src="./Img.footer/Captura de tela 2024-05-01 143414 1.png"   width="70px" height="50px">
                    <img src="./Img.footer/Captura de tela 2024-05-01 143423 1.png"   width="70px" height="50px">
                    <img src="./Img.footer/019a2d16277d159cd2ef1298a4c60ab8 1.png"   width="70px" height="50px">
                    <img src="./Img.footer/download 7.png"  width="70px" height="50px">
        
                </div>
            </div>
            <div class ="contato"> Fale conosco!            
                <div id ="contatoDescricao">
                    Fale conosco de segunda √† sexta das 08:00 √†s 19:00, estamos aqui para ajudar. Nos chame nos canais digitais:
                    <br>
                    Telefone: (24) 9 9300-5840 
                    <br>
                    Email: greenshoes@gmail.com                 
                </div>        
            </div>
            <div class ="logo"> Uma iniciativa
                <div class="logo-img">
                    <img src="./Img.footer/download 8.png" alt="logo1" width ="100px" height="100px">
                </div>
                <div id="textoLogo">
                    <i>Serratec - Parque Tecnol√≥gico da Serra</i> 
                </div>
            </div>
            <div class ="obs"> ATEN√á√ÉO!
                <div id="textoObs">
                    O site greenshoes √© um trabalho da resid√™ncia em TIC/Software do SerraTec. O intuito do site √© apenas para o aprendizado dos criadores.
                </div> 
            </div>
            <div id="copy">&copy; Grupo 7 - 2024</div>
        </footer>
        </div>
        </body>
        </html>

</body>
</html>